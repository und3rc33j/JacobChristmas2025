<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Storybook</title>

  <!--
  ======================================================
  STORYBOOK TEMPLATE v1
  ------------------------------------------------------
  SAFE TO EDIT:
  - THEME VARIABLES (colours / font)
  - IMAGE PATHS
  - pages[] CONTENT

  DO NOT EDIT:
  - Layout CSS
  - JavaScript behaviour
  - HTML structure
  ======================================================
  -->

  <style>
    /* ======================================================
       THEME ZONE – EDIT PER BOOK
       ====================================================== */

    :root{
      /* Background */
      --bg0:#120c0a;
      --bg1:#1b130f;

      /* Card */
      --card: rgba(20,14,12,.88);
      --border:rgba(255,255,255,.12);
      --shadow: 0 12px 40px rgba(0,0,0,.55);

      /* Text */
      --text:#fbf7f2;
      --soft:#d5c6b6;

      /* Shape + font */
      --radius:18px;
      --font: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* ======================================================
       ENGINE ZONE – DO NOT EDIT BELOW
       ====================================================== */

    html, body{
      height:100%;
      margin:0;
      overflow:hidden;
      font-family:var(--font);
      color:var(--text);
    }

    body{
      background:
        radial-gradient(900px 600px at 15% 20%, rgba(255,175,120,.18), transparent 60%),
        radial-gradient(800px 520px at 85% 75%, rgba(255,210,140,.12), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
      display:flex;
      justify-content:center;
      padding:14px;
      box-sizing:border-box;
    }

    .card{
      width:100%;
      max-width:920px;
      height:100%;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      overflow:hidden;
      position:relative;
    }

    header{
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:13px;
      color:var(--soft);
      background: rgba(0,0,0,.10);
    }

    .body{
      flex:1;
      min-height:0;
      display:flex;
      flex-direction:column;
      padding:14px 16px;
    }

    .panel{
      flex:1;
      min-height:0;
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      overflow:hidden;
      background: rgba(0,0,0,.18);
      display:flex;
      flex-direction:column;
    }

    .text{
      flex:0 0 auto;
      padding:16px 16px 10px 16px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      gap:10px;
      text-align:center;
      font-size:22px;
      line-height:1.5;
      letter-spacing:.2px;
    }

    .text h2{
      margin:0;
      font-size:26px;
      line-height:1.2;
    }

    .text p{ margin:0; }

        @media (max-width: 480px){
  .text{
    font-size:18px;
    line-height:1.45;
  }

  .text h2{
    font-size:22px;
  }
}

    @media (max-width: 360px){
  .text{
    font-size:17px;
    line-height:1.4;
  }

  .text h2{
    font-size:20px;
  }
}


    .imgWrap{
      flex:1 1 auto;
      min-height:0;
      padding:12px 12px 14px 12px;
      border-top:1px solid rgba(255,255,255,.10);
      display:none;
    }

    .frame{
      width:100%;
      height:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    img.storyImg{
      width:100%;
      height:100%;
      object-fit:contain;
      object-position:center;
      display:block;
    }

    footer{
      display:flex;
      justify-content:space-between;
      padding:14px 16px;
      border-top:1px solid var(--border);
      background: rgba(0,0,0,.08);
    }

    button{
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.2);
      color:var(--text);
      padding:10px 14px;
      border-radius:12px;
      font-weight:800;
      font-size:14px;
      cursor:pointer;
    }
    button:disabled{ opacity:.4; cursor:not-allowed; }

    .tapZone{
      position:absolute;
      left:0; right:0;
      top:56px;
      bottom:64px;
      display:flex;
      z-index:5;
    }
    .tapHalf{ width:50%; }
  </style>
</head>

<body>
  <div class="card">
    <div class="tapZone">
      <div class="tapHalf" id="tapLeft"></div>
      <div class="tapHalf" id="tapRight"></div>
    </div>

    <header>
      <div id="pageLabel">Page 1</div>
      <div>Tap sides to turn pages</div>
    </header>

    <div class="body">
      <div class="panel">
        <div class="text" id="text"></div>

        <div class="imgWrap" id="imgWrap">
          <div class="frame">
            <img class="storyImg" id="img" alt="Illustration" />
          </div>
        </div>
      </div>
    </div>

    <footer>
      <button id="backBtn">Back</button>
      <button id="nextBtn">Next</button>
    </footer>
  </div>

<script>
 /* ======================================================
   CONTENT ZONE – EDIT PER BOOK
   ====================================================== */

const IMG = {
  cover:       "images/cover.png",
  skyline:     "images/scene-city-skyline.png",
  upgradeDay:  "images/scene-upgrade-platform.png",
  trackReveal: "images/scene-track-reveal.png",
  startLine:   "images/scene-start-line.png",
  splitTrack:  "images/scene-split-track.png",
  hangingRail: "images/scene-hanging-rail.png",
  rankings:    "images/scene-rankings-wall.png",
  replay:      "images/scene-race-replay.png",
  balcony:     "images/scene-balcony.png"
};

const pages = [
  // 1) Cover
  {
    title:true,
    lines:["THE ASCENT TRIAL","A story made just for you.","Tap next to begin."],
    img: IMG.cover
  },

  // 2) Chapter 1 title
  { title:true, lines:["CHAPTER 1","Upgrade Day"], img:null },

  // 3) Ch1 (text heavy) + skyline image
  {
    lines:[
      "Upgrade Day always felt quieter than it should have.",
      "The city made a big show of it. Screens across the skyline counted down the hours. Music rolled through the streets. People wore their bands openly, sleeves pushed back like trophies.",
      "But when the upgrades actually came through, everything went still."
    ],
    img: IMG.skyline
  },

  // 4) Ch1 platform + numbers (text heavy) + upgrade image
  {
    lines:[
      "Jacob stood on the calibration platform with his feet shoulder-width apart, wrists relaxed at his sides. His band hummed softly, warming against his skin.",
      "Green light. That meant the system approved.",
      "Numbers scrolled across his vision:",
      "Speed: +2. Focus: +1. Endurance: unchanged."
    ],
    img: IMG.upgradeDay
  },

  // 5) Ch1 social contrast (text heavy)
  {
    lines:[
      "Around him, reactions burst out. Someone laughed. Someone punched the air. A girl nearby yelped as her strength rating jumped higher than anyone else’s that month.",
      "Jacob checked his results again. Same.",
      "He hadn’t failed anything. He’d completed every task, followed every route, helped where help was logged and tracked. No shortcuts. No warnings. No penalties.",
      "Still, his name sat lower on the rankings wall than people who’d skipped half the circuit.",
      "He didn’t argue. The numbers wouldn’t care."
    ],
    img: null
  },

  // 6) Ch1 track announcement + image
  {
    lines:[
      "The sky flickered.",
      "A new announcement rolled across the buildings in bold white text:",
      "THE ASCENT TRIAL. OPEN ENTRY.",
      "The cheering stopped. Above the city, the race track unfolded into open air, gaps hanging over nothing but lights and wind.",
      "Winners earned permanent upgrades. Losers earned injuries. Sometimes worse.",
      "Jacob’s band tightened slightly: Recommended Entry: No.",
      "He looked up at the track and felt something click. Not fear. Recognition."
    ],
    img: IMG.trackReveal
  },

  // 7) Chapter 2 title
  { title:true, lines:["CHAPTER 2","The Starting Line"], img:null },

  // 8) Ch2 countdown + start line image
  {
    lines:[
      "The gates locked with a sound like teeth snapping shut.",
      "Jacob stood on the edge of the platform, boots angled toward nothing but air. Drones hovered nearby, lenses fixed on every face, broadcasting the moment across the city.",
      "Five.",
      "He scanned the runners beside him. Some stretched. Some smiled too easily. One boy tapped his band twice and grinned as it flashed a colour Jacob had never seen before.",
      "Four.",
      "Jacob felt his focus narrow. This was still a system. Systems could be learned.",
      "Three."
    ],
    img: IMG.startLine
  },

  // 9) Ch2 early step, no penalty (text heavy)
  {
    lines:[
      "Someone stepped forward early.",
      "No warning. No penalty.",
      "Two.",
      "Jacob noticed a faint marking on the track ahead. Barely visible. Not listed on the official map.",
      "One.",
      "The gates vanished.",
      "He ran."
    ],
    img: null
  },

  // 10) Ch2 split track + image
  {
    lines:[
      "The first jump was clean. The second tighter than expected. By the third, the track split.",
      "One route was shorter. Unmarked.",
      "Someone behind him took it without hesitation and sailed past, landing too perfectly, like they’d practiced a jump that wasn’t meant to exist."
    ],
    img: IMG.splitTrack
  },

  // 11) Ch2 throttle (text heavy)
  {
    lines:[
      "Jacob adjusted and took the longer path. His lungs burned as the spiral climbed higher into open air.",
      "Halfway up, his band flashed red:",
      "Stamina Throttle Engaged.",
      "He slowed.",
      "Above him, runners with glowing bands didn’t."
    ],
    img: null
  },

  // 12) Ch2 slip, hanging rail + image
  {
    lines:[
      "The finish platform blurred into view just as his foot slipped.",
      "He grabbed the rail and hung there, heart hammering.",
      "He watched three people cross the line.",
      "One of them hadn’t completed a single official challenge all year.",
      "The crowd roared.",
      "Jacob pulled himself back onto the track and stood there, shaking, band dim.",
      "He didn’t look at the rankings. He already knew."
    ],
    img: IMG.hangingRail
  },

  // 13) Chapter 3 title
  { title:true, lines:["CHAPTER 3","The Quiet Part After"], img:null },

  // 14) Ch3 consequence + rankings image
  {
    lines:[
      "The city didn’t slow down for the losers.",
      "Screens replayed the winning jumps on a loop, angles smoothed, timing perfected. The crowd cheered like the outcome had always been obvious.",
      "Jacob stood near the edge of the plaza, watching his name slide down the rankings wall as new data rolled in.",
      "No penalty. No reward. Just unchanged."
    ],
    img: IMG.rankings
  },

  // 15) Ch3 ‘public rules’ (text heavy)
  {
    lines:[
      "People argued nearby. Someone said the race had been fair because the rules were public. Someone else said effort always paid off in the end.",
      "Jacob looked back at the track hanging above the city.",
      "Public didn’t mean visible.",
      "His band pulsed once:",
      "Post-Trial Status: Stable.",
      "Stable felt like a word you used when nothing had gone wrong, even though something clearly had.",
      "He turned away before the highlights replayed again."
    ],
    img: null
  },

  // 16) Chapter 4 title
  { title:true, lines:["CHAPTER 4","What Stays Unchanged"], img:null },

  // 17) Ch4 replay setup + image
  {
    lines:[
      "That night, Jacob replayed the race.",
      "Not the finish. The middle. The moments that didn’t sit right.",
      "He stripped away the overlays and colour grading. The track appeared rougher like this, seams visible, old welds catching the light."
    ],
    img: IMG.replay
  },

  // 18) Ch4 the gap (text heavy)
  {
    lines:[
      "He paused the feed where the shortcut should have been.",
      "There was something there. Not a route. A gap in the map. A place where the system hadn’t bothered to draw lines.",
      "Jacob stared at it for a long moment."
    ],
    img: null
  },

  // 19) Ch4 integrity (text heavy)
  {
    lines:[
      "He didn’t unlock restricted data. Didn’t chase hidden boosts. Didn’t try to level the numbers.",
      "The system wasn’t fair.",
      "But it was predictable.",
      "And predictability meant choice."
    ],
    img: null
  },

  // 20) Ch4 re-entry + balcony image (cliffhanger)
  {
    lines:[
      "The re-entry screen hovered quietly in front of him:",
      "THE ASCENT TRIAL – CONFIRM",
      "Upgrade Options Available",
      "Jacob didn’t open them.",
      "He confirmed entry anyway.",
      "If the system was going to test him again, it would do it without him pretending not to see the cracks.",
      "Same race. Same rules.",
      "Jacob watched the track light up in the distance.",
      "Then turned off the screen."
    ],
    img: IMG.balcony
  }
];

  /* ======================================================
     ENGINE ZONE – DO NOT EDIT BELOW
     ====================================================== */

  let idx = 0;
  const textEl = document.getElementById("text");
  const imgWrap = document.getElementById("imgWrap");
  const imgEl = document.getElementById("img");
  const pageLabel = document.getElementById("pageLabel");
  const backBtn = document.getElementById("backBtn");
  const nextBtn = document.getElementById("nextBtn");
  const tapLeft = document.getElementById("tapLeft");
  const tapRight = document.getElementById("tapRight");

  function render(){
    const p = pages[idx];
    textEl.innerHTML = "";

    if (p.title){
      const h = document.createElement("h2");
      h.textContent = p.lines[0];
      textEl.appendChild(h);
      for (let i=1;i<p.lines.length;i++){
        const d=document.createElement("p");
        d.textContent=p.lines[i];
        textEl.appendChild(d);
      }
    } else {
      p.lines.forEach(l=>{
        const d=document.createElement("p");
        d.textContent=l;
        textEl.appendChild(d);
      });
    }

    if (p.img){
      imgWrap.style.display="block";
      imgEl.src=p.img;
    } else {
      imgWrap.style.display="none";
      imgEl.removeAttribute("src");
    }

    pageLabel.textContent=`Page ${idx+1} of ${pages.length}`;
    backBtn.disabled = idx===0;
    nextBtn.disabled = idx===pages.length-1;
  }

  function next(){ if(idx<pages.length-1){ idx++; render(); } }
  function back(){ if(idx>0){ idx--; render(); } }

  backBtn.onclick=back;
  nextBtn.onclick=next;
  tapLeft.onclick=back;
  tapRight.onclick=next;

  render();
</script>
</body>
</html>
